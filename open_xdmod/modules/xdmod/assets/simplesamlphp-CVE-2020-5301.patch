diff --git a/www/module.php b/www/module.php
index 8e122f78e..c395d60ba 100644
--- a/www/module.php
+++ b/www/module.php
@@ -79,7 +79,7 @@ if (strpos($url, '\\') !== false) {
 $moduleDir = SimpleSAML\Module::getModuleDir($module).'/www/';

 // check for '.php/' in the path, the presence of which indicates that another php-script should handle the request
-for ($phpPos = strpos($url, '.php/'); $phpPos !== false; $phpPos = strpos($url, '.php/', $phpPos + 1)) {
+for ($phpPos = strpos(strtolower($url), '.php/'); $phpPos !== false; $phpPos = strpos(strtolower($url), '.php/', $phpPos + 1)) {

     $newURL = substr($url, 0, $phpPos + 4);
     $param = substr($url, $phpPos + 4);
@@ -94,7 +94,7 @@ for ($phpPos = strpos($url, '.php/'); $phpPos !== false; $phpPos = strpos($url,
     }
 }

-$path = $moduleDir.$url;
+$path = strtolower($moduleDir.$url);

 if ($path[strlen($path) - 1] === '/') {
     // path ends with a slash - directory reference. Attempt to find index file in directory
