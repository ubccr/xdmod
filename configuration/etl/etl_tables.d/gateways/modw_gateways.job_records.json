{
  "table_definition": {
    "comment": "Consumption of resources (job records) by Gateways",
    "engine": "myisam",
    "charset": "utf8mb4",
    "collation": "utf8mb4_general_ci",
    "columns": [
      {
        "type": "bigint(20) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": null,
        "hints": null,
        "name": "job_record_id"
      },
      {
        "type": "bigint(20) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": null,
        "hints": null,
        "name": "job_record_origin_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Resource where the job was initiated",
        "hints": null,
        "name": "resource_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The type of the resource on which the jobs ran. References the resourcetype.id",
        "hints": null,
        "name": "resourcetype_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The state where the resource resides",
        "hints": null,
        "name": "resource_state_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The country where the resource resides",
        "hints": null,
        "name": "resource_country_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The organization where the resource resides",
        "hints": null,
        "name": "resource_organization_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The type of organization where the resource resides",
        "hints": null,
        "name": "resource_organization_type_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Resource associated with the allocation. May be a grid resource.",
        "hints": null,
        "name": "allocation_resource_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Person requesting resources",
        "hints": null,
        "name": "person_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The organization of the person requesting resources",
        "hints": null,
        "name": "person_organization_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The NSF status code of the person requesting resources. References person.nsfstatuscode_id",
        "hints": null,
        "name": "person_nsfstatuscode_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Account the job will be charged to",
        "hints": null,
        "name": "account_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Allocation (resource, account) that will be charged for this job",
        "hints": null,
        "name": "allocation_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Request record for this allocation (used for primary field of science)",
        "hints": null,
        "name": "request_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The field of science of the project to which the jobs belong",
        "hints": null,
        "name": "fos_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The PI that owns the allocation. XDMoD adds this on ingest, otherwise it is linked to a request in XDCDB. References principalinvestigator.person_id",
        "hints": null,
        "name": "principalinvestigator_person_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The organization of the PI that owns the allocation. References piperson.organization_id",
        "hints": null,
        "name": "piperson_organization_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Type of job: hpc, cloud, hpc-reservation, ...",
        "hints": null,
        "name": "job_record_type_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Method used to submit this job: cli, gateway, ...",
        "hints": null,
        "name": "submission_venue_id"
      },
      {
        "type": "varchar(32)",
        "charset": "latin1",
        "collation": "latin1_swedish_ci",
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "Resource queue where the job ran",
        "hints": null,
        "name": "queue"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "Job submission time in seconds since epoch (UTC)",
        "hints": null,
        "name": "submit_time_ts"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Job start time in seconds since epoch (UTC)",
        "hints": null,
        "name": "start_time_ts"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "Job completion time in seconds since epoch (UTC), may be unknown",
        "hints": null,
        "name": "end_time_ts"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Day id of the job start time in format YYYY00DDD, e.g. 201600143. This is the day in the timezone of the LOCAL database and NOT UTC!",
        "hints": null,
        "name": "start_day_id"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Day id of the job end time in format YYYY00DDD, e.g. 201600143. This is the day in the timezone of the LOCAL database and NOT UTC!",
        "hints": null,
        "name": "end_day_id"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0.000",
        "extra": null,
        "comment": "Local resource SUs charged",
        "hints": null,
        "name": "local_charge_su"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0.000",
        "extra": null,
        "comment": "Local resource SUs charged after SP adjustments",
        "hints": null,
        "name": "adjusted_charge_su"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "XDSUs charged. Uses current resource conv factor",
        "hints": null,
        "name": "local_charge_xdsu"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "XDSUs charged after SP adjustments",
        "hints": null,
        "name": "adjusted_charge_xdsu"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "NUs charged. XDSU * 21.576",
        "hints": null,
        "name": "local_charge_nu"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "NUs charged after SP adjustments. XDSU * 21.576",
        "hints": null,
        "name": "adjusted_charge_nu"
      },
      {
        "type": "double",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "Factor used to normalize local SU to TG Roaming (XDSU)",
        "hints": null,
        "name": "conversion_factor"
      },
      {
        "type": "tinyint(1)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": "Boolean flag 1 = job complete",
        "hints": null,
        "name": "completed"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": null,
        "hints": null,
        "name": "federation_instance_id"
      },
      {
        "type": "timestamp",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0000-00-00 00:00:00",
        "extra": null,
        "comment": null,
        "hints": null,
        "name": "last_modified"
      },
      {
        "type": "tinyint(1)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": "Boolean flag 1 = job has been deleted",
        "hints": null,
        "name": "is_deleted"
      }
    ],
    "indexes": [],
    "foreign_key_constraints": [],
    "triggers": [],
    "schema": "modw_gateways",
    "name": "job_records"
  }
}
