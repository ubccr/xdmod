<!DOCTYPE HTML>
<html lang="en">
    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Plotly Template</title>

        <style type="text/css">html,body{margin:0px;height:100%;}</style>
        <script type="text/javascript" src="_html_dir_/gui/js/StringExtensions.js"></script>
        <script type="text/javascript" src="_html_dir_/gui/lib/jquery/jquery-3.7.1.min.js"></script>

        <div id="container" class="plotly"></div>
        <script type="text/javascript">
        // Declare various namespaces
        let Ext = {
            namespace: function () {}
        };
        let XDMoD = {
            constants: {},
            utils: {},
            regex: {},
            validator: {}
        };
        let CCR = {
            xdmod: {}
        };

        document.addEventListener('DOMContentLoaded', function () {
            // _ chartOptions _ is a macro that is substituted by \xd_charting\exportChart()
            let inputChartOptions = _chartOptions_;
            const args = {
                mainTitleFontSize: inputChartOptions.chartTitleSize,
                axisTitleFontSize: inputChartOptions.axisTitleSize,
                axisLabelFontSize: inputChartOptions.axisTickSize,
                lineWidth: inputChartOptions.lineWidth
            };

            // Chart will be fully configured if export call came from non-supremm module tab
            if (inputChartOptions.layout) {
                inputChartOptions.layout['width'] = _width_;
                inputChartOptions.layout['height'] = _height_;
                inputChartOptions['renderTo'] = 'container';
                inputChartOptions['isExport'] = true;
                XDMoD.utils.createChart(inputChartOptions);
            }
            else {
                chartOptions = generateChartOptions(inputChartOptions, args);
                chartOptions.layout['width'] = _width_;
                chartOptions.layout['height'] = _height_;
                Plotly.newPlot('container', chartOptions.data, chartOptions.layout, { staticPlot: true } );
            }
        });

        </script>
    </head>
    <body>
        <script type="text/javascript" src="_html_dir_/gui/js/CCR.js"></script>
        <script type="text/javascript" src="_html_dir_/gui/lib/moment/moment.min.js"></script>
        <script type="text/javascript" src="_html_dir_/gui/lib/moment-timezone/moment-timezone-with-data.min.js"></script>
        <script type="text/javascript" src="_html_dir_/gui/lib/plotly/plotly-2.29.1.min.js"></script>
        <script type="text/javascript" src="_html_dir_/gui/js/PlotlyChartWrapper.js"></script>
        <script type="text/javascript" src="_html_dir_/gui/js/libraries/PlotlyUtilities.js"></script>
    </body>
</html>
