<h1>Open XDMoD Release Notes</h1>

<p>Below is a list of Open XDMoD releases with major features and bug fixes
listed.</p>

<h2>Version 6.5.0 (2017-01-10)</h2>

<div>
  <strong>Features</strong>
  <ul>
    <li>General
      <ul>
        <li>Modified the Summary tab to reload automatically after its charts
        are modified in Metric Explorer.</li>
        <li>Added a new PHP-based ETL system to Open XDMoD.
          <ul>
            <li>This ETL provides many predefined actions to support flexible
            ingestion of data from multiple sources and is configured via JSON
            files to support flexibility at customer installations with minimal
            changes to source code.</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>SUPReMM
      <ul>
        <li>Added peak memory usage metric.</li>
        <li>Improved application identification data.</li>
        <li>Added a count column to the Job Viewer's detailed metrics pane to
        show how many data points were used to calculate the metrics.</li>
      </ul>
    </li>
  </ul>
</div>

<div>
  <strong>Bug Fixes</strong>
  <ul>
    <li>General
      <ul>
        <li>Fixed stacked area charts not handling empty data points correctly.</li>
        <li>Stopped inaccurate warning about Adobe Flash content in browsers
        that block Flash. (XDMoD does not make use of Flash.)</li>
        <li>Fixed incorrectly-oriented subpanel titles in Internet Explorer 10.</li>
        <li>Fixed inconsistency between labels used for users and PIs on a job.</li>
        <li>Fixed automatic aggregation unit selection for charts not working
        correctly for some installations of Open XDMoD.</li>
        <li>Fixed UGE shredder</li>
        <li>Fixed Slurm job array index parsing.</li>
      </ul>
    </li>
    <li>SUPReMM
      <ul>
        <li>Job Viewer
          <ul>
            <li>Fixed "Show Raw Data" button in Metric Explorer not filtering
            results correctly when using some combinations of drilldowns and
            filters.</li>
            <li>Fixed single-point datasets not appearing in exported charts.</li>
            <li>Fixed Search History tree sorting nodes that should not be
            sorted.</li>
            <li>Fixed "Show Raw Data" window in Metric Explorer staying active
            after the chart underneath it changes (for example, when a new chart
            is imported from Usage).</li>
            <li>Improved handling of raw data specified in kilobytes and
            megabytes in Detailed Metrics pane.</li>
            <li>Fixed handling of Search History entries that have numeric
            names.</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>

<div>
  <strong>Miscellaneous</strong>
  <ul>
    <li>General
      <ul>
        <li>Added documentation for using LDAP for federated authentication.</li>
        <li>Moved development of Open XDMoD into public GitHub repositories.
          <ul>
            <li>If you would like to help us improve and expand upon Open XDMoD,
            please visit <a href="https://github.com/ubccr/xdmod">the
            Open XDMoD repository</a>.</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>

<h2>Version 6.0.0 (2016-09-21)</h2>

<p><strong>IMPORTANT NOTE:</strong> Highcharts has been updated from
v3.0.9 to v4.2.5. If you are a commercial user as defined by the
Highcharts license terms and your Highcharts license does not cover the
new version, you will need to acquire a new license.</p>

<div>
  <strong>Features</strong>
  <ul>
    <li>Added demo user type.</li>
    <li>Added roadmap link to feature request dialog.</li>
    <li>Shredders
      <ul>
        <li>Fixed calculation of missing end times from the start time and wall
        time.</li>
        <li>LSF
          <ul>
            <li>Now storing the node list, exit code and exit status for SUPReMM
            support.</li>
          </ul>
        </li>
        <li>Slurm
          <ul>
            <li>Now allowing null eligible times.</li>
            <li>Failed parsing of datetimes are no longer a fatal error.</li>
          </ul>
        </li>
        <li>SGE
          <ul>
            <li>Now supporting older versions of SGE that contain only 43 fields
            in their accounting logs.</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>SUPReMM
      <ul>
        <li>Job Viewer
          <ul>
            <li>Added sort options to search history panel.</li>
            <li>Organized advanced search filters into categories.</li>
            <li>Modified timeseries charts to use the timezone of a job's
            resource instead of the timezone used by the web browser.</li>
            <li>Modified analytics pane to always be present and explain why
            missing data is missing.</li>
            <li>Modified byte units to use IEC prefixes instead of SI ones.</li>
            <li>Allowed some metrics to be displayed in multiple tabs.</li>
            <li>Added tooltips to advanced search filters.</li>
            <li>Added tooltips to detailed metrics.</li>
            <li>Added help sections to tabs that didn't have any previously.</li>
            <li>Added a help button to the at-a-glance analytics.</li>
            <li>Added a loading message to charts that are loading.</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>

<div>
  <strong>Bug Fixes</strong>
  <ul>
    <li>General
      <ul>
        <li>Fixed some charts not rendering if more than 1000 points were
        plotted.</li>
        <li>Improved consistency of chart aesthetics across tabs.</li>
        <li>Fixed report generator not cleaning up old report files.</li>
      </ul>
    </li>
    <li>Metric Explorer
      <ul>
        <li>Fixed Add Filter list only including filter types applicable to the
        realm of the first data series on a chart.</li>
      </ul>
    </li>
    <li>Shredders
      <ul>
        <li>PBS
          <ul>
            <li>Fixed parsing of newer <code>exec_host</code> formats
            (e.g. <code>host/0-3</code>, <code>host/0*8</code>).</li>
          </ul>
        </li>
      </ul>
    </li>
    <li><code>xdmod-import</code>
      <ul>
        <li>Fixed importing of hierarchy and group-to-hierarchy files.</li>
      </ul>
    </li>
    <li>SUPReMM
      <ul>
        <li>Job Viewer
          <ul>
            <li>Fixed a number of cases where editing a search did not work as
            expected.</li>
            <li>Fixed various edge cases where timeseries chart drilldowns
            did not work as expected.</li>
            <li>Fixed case where a top-level timeseries chart was exported
            instead of the current, drilled-down chart.</li>
            <li>Fixed case where timeseries chart drilldowns performed on a
            chart were not reflected in the navigation tree.</li>
            <li>Fixed case where selecting a low-level timeseries chart in the
            navigation tree opened a top-level chart instead.</li>
            <li>Fixed basic search resource list loading immediately on page
            load.</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>

<div>
  <strong>Under the Hood</strong>
  <ul>
    <li>Reorganized code to enable easier sharing of development efforts across
    XDMoD and Open XDMoD.</li>
    <li>Updated various third-party components used by Open XDMoD.</li>
    <li>Made numerous other internal improvements to prepare for future features
    and ease development efforts.</li>
  </ul>
</div>

<h3>Version 5.6.0 (2016-05-24)</h3>
<div>
  <strong>New Features</strong>
  <ul>
    <li>Federated Authentication
      <ul>
        <li>Open XDMoD can now use any authentication system supported by
        <a href="https://simplesamlphp.org/" target="_blank">SimpleSAMLphp</a>.
        </li>
        <li>For more information, please view the
        <a href="http://open.xdmod.org/simpleSAMLphp.html" target="_blank">
        Federated Authentication guide</a>.</li>
      </ul>
    </li>
    <li>Roadmap
      <ul>
        <li>Added interactive roadmap for XDMoD development to About tab.</li>
      </ul>
    </li>
    <li>Contact Us
      <ul>
        <li>Added option to contact developers for technical support.</li>
      </ul>
    </li>
    <li>Data Warehouse
      <ul>
        <li>Improved speed of filter (dimension value) lists by precomputing
        available values.</li>
      </ul>
    </li>
    <li>Metric Explorer
      <ul>
        <li>Added redo button.</li>
      </ul>
    </li>
    <li>Shredders
      <ul>
        <li>Added support for PBS Pro.</li>
        <li>Added additional input validation to the Slurm helper script.</li>
      </ul>
    </li>
    <li>Upgrade Process
      <ul>
        <li>Added warning to upgrade addon modules before migrating.</li>
      </ul>
    </li>
    <li>Database
      <ul>
        <li>Changed column types and added indexes to the logging table.</li>
      </ul>
    </li>
    <li>Documentation
      <ul>
        <li>User manual now available.</li>
        <li>Improved installation and configuration documentation.</li>
      </ul>
    </li>
    <li>Application Kernels
      <ul>
        <li>Added ability to select the 29th-31st of a month as a monthly report
        delivery day.
          <ul>
            <li>For months that don't have these days, reports scheduled for
            those days will be delivered on the last day of the month.</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>SUPReMM
      <ul>
        <li>Configuration
          <ul>
            <li>Switched to URL-based method for specifying Mongo databases.
              <ul>
                <li>This adds support for Mongo databases that require
                authentication.</li>
              </ul>
            </li>
            <li>Improved setup process to be more user-friendly.
              <ul>
                <li>The interactive setup script now generates the required
                configuration files.</li>
              </ul>
            </li>
            <li>Improved configuration file structure.</li>
          </ul>
        </li>
        <li>Data Processing
          <ul>
            <li>Added ability to transfer ingested/aggregated data between
            databases.
              <ul>
                <li>This allows SUPReMM data to be reprocessed in a secondary
                database before deploying a new version of the SUPReMM ingestor
                in the main XDMoD instance.</li>
              </ul>
            </li>
            <li>Improved logging for ingestion and aggregation scripts.</li>
          </ul>
        </li>
        <li>Job Viewer
          <ul>
            <li>Added ability to edit searches.</li>
            <li>Improved layout of search window.</li>
            <li>Added ability to export timeseries plots as images or CSV
            data.</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  <strong>Bug Fixes</strong>
  <ul>
    <li>General
      <ul>
        <li>Enabled toolbar scrolling when window is too small.</li>
        <li>Fixed trend line R<sup>2</sup> values sometimes not being
        calculated.</li>
        <li>Removed redundant warnings about role-based restrictions.</li>
        <li>Fixed the About tab not being able to be the default tab.</li>
        <li>Improved chart loading speed by removing most animations.</li>
        <li>Fixed incorrect trend line calculation and display for
        discontinuous data series.</li>
        <li>Fixed security vulnerability in Report Generator's image
        generator.</li>
        <li>Fixed extra slashes in URLs in password reset emails (including
        account creation emails).</li>
        <li>Fixed email template paths.</li>
        <li>The About tab can now be set as the default module.</li>
      </ul>
    </li>
    <li>Data Warehouse
      <ul>
        <li>Fixed cases where current time period would not be aggregated.
          <ul>
            <li>Now that this is resolved, code that can work by scanning any
            aggregate table now uses the year tables, as those are smallest.</li>
          </ul>
        </li>
        <li>Improved consistency of time period tables and removed unused ones.</li>
      </ul>
    </li>
    <li>Metric Explorer
      <ul>
        <li>Fixed handling of HTML characters in chart titles.</li>
        <li>Fixed issues with axis renames not persisting.</li>
        <li>Fixed Load Chart search not working.</li>
        <li>Modified chart options menu label to be a fixed length.
          <ul>
            <li>This prevents the button from being placed in the toolbar's
            overflow area when it shouldn't be.</li>
          </ul>
        </li>
        <li>Fixed changes to y-axes not being undoable.</li>
        <li>Modified "Show Trend Line" button in chart options to be disabled
        when trend lines aren't available.</li>
        <li>Fixed case where duration selectors in main toolbar and on x-axis
        popup could desynchronize.</li>
      </ul>
    </li>
    <li>Shredders
      <ul>
        <li>Fixed handling of "NONE" in SGE's pe_taskid field.</li>
        <li>Now allowing all values that were previously resulting in fatal
        errors in Slurm fields that represent lengths of time.</li>
      </ul>
    </li>
    <li>Upgrade Process
      <ul>
        <li>Fixed broken error for when portal_settings.ini is not writable.</li>
      </ul>
    </li>
    <li>Usage
      <ul>
        <li>Fixed bad default settings for dimensions that default to pie
        charts.</li>
        <li>Fixed long initial load time by starting on a single-chart page.</li>
      </ul>
    </li>
    <li>Application Kernels
      <ul>
        <li>Fixed Reports tab not appearing for some authorized users.</li>
        <li>Reduced user authorization requirements for showing certain data.</li>
        <li>Removed "." from tab labels.</li>
        <li>Removed non-functional x-y swap from tabs.</li>
      </ul>
    </li>
    <li>SUPReMM
      <ul>
        <li>Job Viewer
          <ul>
            <li>Added error dialog box for if Quick Job Lookup's resource list
            fails to load instead of silently failing.</li>
            <li>Fixed existing searches breaking after performing a re-ingest of
            SUPReMM data.</li>
            <li>Fixed charts sometimes not resizing properly.</li>
            <li>Fixed memory leak in search history right-click menu.</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  <strong>Known Issues</strong>
  <ul>
    <li>Some text boxes will not allow ampersands to be typed into them in
    Firefox.
      <ul>
        <li>To work around this, ampersands can be copied and pasted into these
        boxes.</li>
      </ul>
    </li>
  </ul>
</div>

<h3>Version 5.5.0 (2015-12-18)</h3>
<div>
  <strong>New Features</strong>
  <ul>
    <li>SUPReMM support</li>
    <li>Metric Explorer Changes
      <ul>
        <li>Improved management of charts
          <ul>
            <li>Charts are no longer automatically saved after each
            operation. A manual Save button has been added that will
            indicate whether or not a chart needs to be saved.</li>
            <li>When displaying pie charts, only a single dataset is
            allowed.</li>
            <li>Added ability to rename saved charts.</li>
            <li>Added undo capability.</li>
          </ul>
        </li>
        <li>Improved UI for data filtering
          <ul>
            <li>Added Quick Filters for quickly restricting data. This
              replaces the Role selector.</li>
          </ul>
        </li>
        <li>Improved data access controls
          <ul>
            <li>Non-public metrics and dimensions are now restricted
            according to users' roles.</li>
            <li>Improved filter lists to only include values for which
            the user can view the underlying data.</li>
            <li>Added the ability to include a remainder data series.</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Migrated more server calls to the new REST stack</li>
    <li>Simplified the chart/data retrieval infrastructure used by the
    Metric Explorer and Usage tabs</li>
    <li>Improved performance of certain queries</li>
    <li>Updated PBS parsing to support time fields that are formatted in
    seconds and not HH:MM:SS</li>
  </ul>
  <strong>Bug Fixes</strong>
  <ul>
    <li>Fixed report generator document formatting</li>
    <li>Fixed inconsistent data series ordering between timeseries charts
    when sorted by value in Usage and Metric Explorer tabs</li>
    <li>Fixed Metric Explorer sometimes loading the same chart twice</li>
    <li>Fixed the "Hide Tooltip" option not always working as expected in
    Usage tab</li>
    <li>Fixed filter lists occasionally getting stuck under a loading
    mask</li>
    <li>Fixed predefined date durations not being saved correctly in the
    Metric Explorer</li>
    <li>Removed auto-loading of the last open chart in Metric Explorer, a
    new chart is now opened when visiting the Metric Explorer</li>
    <li>Improved stability, consistency, and performance of numerous other
    components</li>
    <li>Prevent warning messages produced by LSF jobs that don't have a
    host list</li>
  </ul>
</div>

<h3>Version 5.0.0 (2015-08-19)</h3>
<div>
  <strong>New Features</strong>
  <ul>
    <li>Utilization metric may now be normalized to a specified percent
    allocated</li>
    <li>Removed javac dependency</li>
    <li>Add host filter shredder feature</li>
    <li>Improved stability of Usage tab</li>
    <li>Improved error handling for internal dashboard errors</li>
    <li>Added meaningful HTTP status codes to failed login responses</li>
    <li>Resolved frequent warnings in Apache logs about implicitly
    converting arrays to strings</li>
    <li>PBS memory value parsing errors are no longer fatal</li>
    <li>Removed Apache requirement for listening on 127.0.0.1</li>
    <li>Added support for Univa Grid Engine 8.2+</li>
    <li>Shredders now skip duplicate data</li>
    <li>Added support for MySQL 5.6+</li>
    <li>Added support for PhantomJS 2.0+</li>
    <li>Added helper script for updating resource specs</li>
    <li>Improved documentation</li>
  </ul>
  <strong>Bug Fixes</strong>
  <ul>
    <li>Adjust LSF unique key constraint</li>
    <li>Added PBS unique key constraint to prevent duplicate job data</li>
  </ul>
</div>

<h3>Version 4.5.2 (2015-02-17)</h3>
<div>
  <strong>New Features</strong>
  <ul>
    <li>Remove excessive "wall time" error messages</li>
    <li>Add more debug logging</li>
    <li>SGE memory value parsing errors are no longer fatal</li>
  </ul>
  <strong>Bug Fixes</strong>
  <ul>
    <li>Fix SGE parsing regression</li>
  </ul>
</div>

<h3>Version 4.5.1 (2015-02-05)</h3>
<div>
  <strong>New Features</strong>
  <ul>
    <li>Support for Torque's new "exec_host" syntax</li>
    <li>Updated SGE parsing to support Univa's new "job_class" field and
    requests for "INFINITY" memory</li>
  </ul>
  <strong>Bug Fixes</strong>
  <ul>
    <li>Backslash characters in LSF log files now parsed correctly</li>
    <li>Report generator now handles double quotes in portal_settings.ini
    properly</li>
    <li>Fixed optional Node Utilization statistic</li>
  </ul>
</div>

<h3>Version 4.5.0 (2014-12-04)</h3>
<div>
  <strong>New Features</strong>
  <ul>
    <li>Major re-write of the Metric Explorer user interface including a
    metric catalog and context-sensitive menus</li>
    <li>Report generator performance enhancements</li>
    <li>General user interface updates</li>
    <li>Improved image export dialog</li>
    <li>Added metric description pane in Metric Explorer</li>
    <li>Improved session management</li>
    <li>Added additional error checking and reporting to shredders</li>
    <li>Added LSF support</li>
    <li>Improved utilization metric to support resources that don't have a
    constant cpu count over their lifetime</li>
    <li>Added suport for alternate PI data sources</li>
    <li>Improved logging</li>
    <li>Added weighted job size statistic</li>
    <li>Improved IE compatibility</li>
    <li>Added xdmod-admin script</li>
    <li>Added automatic update checker</li>
    <li>Added support for slurm job arrays</li>
    <li>Improved documentation</li>
  </ul>
  <strong>Bug Fixes</strong>
  <ul>
    <li>PBS and SGE job arrays were not ingested correctly</li>
    <li>sacct configuration option was not recognized</li>
    <li>Arrow keys did not work in axis range boxes</li>
    <li>Parentheses not available in Metric Explorer chart titles</li>
    <li>Proper handling of apostrophes in search dialogs</li>
    <li>On some charts, data points on the last day of the specified date
    range were not displayed correctly</li>
  </ul>
</div>

<h3>Version 3.5.0 (2013-11-18)</h3>
<div>
  <ul>
    <li>Initial public release</li>
  </ul>
</div>
