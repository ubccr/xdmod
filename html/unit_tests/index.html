<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mocha Tests</title>
  <link href="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.css" rel="stylesheet" />
</head>
<body>
  <div id="mocha"></div>
  <div id="messages"></div>
  <div id="fixtures"></div>

  <!-- Array.prototype.includes polyfill -->
  <script src="./Array.prototype.includes.js"></script>

  <!-- Test harness scripts pulled from github CDN -->
  <script src="https://cdn.rawgit.com/jquery/jquery/2.1.4/dist/jquery.min.js"></script>
  <script src="https://cdn.rawgit.com/Automattic/expect.js/0.3.1/index.js"></script>
  <script src="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.js"></script>
  <script src="https://cdn.rawgit.com/chaijs/chai/3.4.2/chai.js"></script>
  <script src="https://cdn.rawgit.com/chaijs/chai-spies/0.7.1/chai-spies.js"></script>

  <script>mocha.setup('bdd')</script>
  <script>expect = chai.expect</script>
           
  <!-- ExtJS framework -->
  <script type="text/javascript" src="../gui/lib/extjs/adapter/ext/ext-base.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/ext-all-debug-w-comments.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/src/debug.js"></script>
  <script type="text/javascript" src="../gui/lib/CheckColumn.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/ProgressBarPager.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/treegrid/TreeGridSorter.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/treegrid/TreeGridColumnResizer.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/treegrid/TreeGridNodeUI.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/treegrid/TreeGridLoader.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/treegrid/TreeGridColumns.js"></script>
  <script type="text/javascript" src="../gui/lib/extjs/examples/ux/treegrid/TreeGrid.js"></script>
  <script type="text/javascript" src="../gui/lib/rsvp/rsvp-1979d5ad89293dadbe7656dd53d152f7426fa35e.min.js"></script>
  <script type="text/javascript" src="../gui/lib/groupdataview.js"></script>
  <script type="text/javascript" src="../gui/lib/groupcombo.js"></script>
                                      
  <!-- Files to test -->
  <script>
Ext.ns('CCR', 'CCR.xdmod', 'CCR.xdmod.ui', 'XDMoD.REST');
CCR.xdmod.ui.rawDataAllowedRealms = ['Jobs'];
  </script>
  <script data-cover src="../gui/js/ChangeStack.js"></script>
  <script data-cover src="../gui/js/CCR.js"></script>

  <script type="text/javascript" src="../gui/js/ExportPanel.js"></script>
  <script type="text/javascript" src="../gui/js/PortalModule.js"></script>
  <script type="text/javascript" src="../gui/js/RealTimeValidatingTextField.js"></script>
  <script type="text/javascript" src="../gui/js/plugins/CollapsedPanelTitlePlugin.js"></script>

  <script data-cover type="text/javascript" src="../gui/js/modules/job_viewer/JobViewer.js"></script>

  <script type="text/javascript" src="../gui/js/modules/job_viewer/ChartPanel.js"></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/AnalyticChartPanel.js"></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/TimeSeriesStore.js"></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/SearchPanel.js"></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/SearchHistoryTree.js" ></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/SearchHistoryPanel.js"></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/JobPanel.js"></script>
  <script type="text/javascript" src="../gui/js/modules/job_viewer/NestedViewPanel.js"></script>

  <!-- Test specification files -->
  <script src="spec/ChangeStackSpec.js"></script>
  <script src="spec/CCRTokenizeSpec.js"></script>
  <script src="spec/JobViewerSpec.js"></script>
  <script src="spec/XDMoDFormatSpec.js"></script>

  <script>
    mocha.checkLeaks();
    mocha.run();
  </script>

</body>
</html>

